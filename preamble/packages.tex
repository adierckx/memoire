%%%%[1]PACKAGES%%%%

%%[1.1] Language and Encoding %%
\usepackage[english]{babel}                 % English language support
\usepackage[T1]{fontenc}                    % Output font encoding for accented characters
\usepackage[utf8]{inputenc}                 % Input encoding for Unicode characters

%%[1.2] Mathematics %%
\usepackage{amsmath}                        % American Mathematical Society math package
\usepackage{amsthm}                         % Theorem environments
\usepackage{amssymb}                        % Additional math symbols
\usepackage{physics}                        % Additional physics symbols
\usepackage{dsfont}                         % For \mathds{1}
\usepackage{tensor}                         % Correct placement of indices, use \Gamma\indices{_a^b}
\numberwithin{equation}{section}            % Resets equation numbering each section

%%[1.3] Graphics and Colors %%
\usepackage{graphicx}                       % Required for inserting images
\usepackage[dvipsnames]{xcolor}             % More predefined colors
\usepackage{tikz}                           % For drawings and diagrams
\usepackage{tkz-euclide}                    % For Euclidean geometry drawings
\usetikzlibrary{intersections,angles,quotes}% TikZ libraries
\usepackage[compat=1.1.0]{tikz-feynman}     % Feynman diagrams
\tikzfeynmanset{warn luatex=false}

%%[1.4] Layout and Formatting %%
\usepackage[top=2cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry} % Set margins
\usepackage{appendix}                       % Create the appendix environment
\usepackage{hyperref}                       % Hyperlinks in the document
\hypersetup{%
  colorlinks = true,
  linkcolor  = OliveGreen,
  urlcolor   = Plum
}
\usepackage{float}                          % Allows [H] option to force figure placement
\usepackage{cleveref}                       % Smart referencing
\crefname{table}{table}{tables}
\Crefname{table}{Table}{Tables}
\crefname{figure}{figure}{figures}
\Crefname{figure}{Figure}{Figures}
\crefname{equation}{eq.}{equations}
\Crefname{equation}{Eq.}{Equations}

%%[1.5] Tables and Code %%
\usepackage{booktabs}                       % Enhances quality of tables
\usepackage{listings}                       % Allows inclusion of code
\lstdefinestyle{MathematicaStyle}{          % Define a style for Mathematica code
    language=Mathematica,
    basicstyle=\ttfamily\small,  % Small monospace font
    backgroundcolor=\color{lightgray!10}, % Light background
    frame=single,  % Add frame around code
    keywordstyle=\color{blue}, % Mathematica keywords in blue
    stringstyle=\color{teal},  % Strings in teal
    commentstyle=\color{gray}, % Comments in gray
    breaklines=true,  % Allow line breaks
    showstringspaces=false  % Do not show spaces in strings
}
\lstdefinelanguage{Wolfram}{
    morekeywords={Plot, Sin, Cos, Integrate, Table, Module, If, Do, While, ListPlot, Manipulate}, % Add more keywords as needed
    keywordstyle=\color{blue},
    morestring=[b]",
    stringstyle=\color{teal},
    comment=[l]{(*},
    commentstyle=\color{gray}\ttfamily,
    basicstyle=\ttfamily\small,  % Monospaced font
    backgroundcolor=\color{lightgray!10},  % Light background color
    frame=single,  % Frame around the code block
    breaklines=true,  % Allow line breaks in long lines
    showstringspaces=false,  % Do not show spaces in strings
}

%%[1.6] Custom Environments %%
\usepackage[outline]{contour}               % For text outlining
\contourlength{1.3pt}
\usepackage[strict]{changepage}             % For adjustwidth environment
\usepackage{framed}                         % For framed environments
\usepackage{comment}                        % Allows commenting out large sections
\usepackage{dirtytalk}                      % For quotations